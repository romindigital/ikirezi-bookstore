// Mock data for the Ikirezi book store

export const mockBooks = [
  {
    id: 1,
    title: "The Great Gatsby",
    author: "F. Scott Fitzgerald",
    price: 12.99,
    discountPrice: 9.99,
    discountPercent: 23,
    image: "https://images.unsplash.com/photo-1544947950-fa07a98d237f?w=300&h=400&fit=crop",
    rating: 4.2,
    reviewCount: 1250,
    stock: 50,
    description: "A classic American novel set in the Jazz Age, following the mysterious Jay Gatsby and his obsession with the beautiful Daisy Buchanan.",
    publisher: "Scribner",
    publishedYear: 1925,
    pages: 180,
    language: "English",
    isbn: "978-0-7432-7356-5",
    categories: ["Fiction", "Classic Literature", "American Literature"],
    format: "Paperback",
    dimensions: "5.1 x 7.8 x 0.6 inches",
    weight: "0.4 pounds"
  },
  {
    id: 2,
    title: "To Kill a Mockingbird",
    author: "Harper Lee",
    price: 14.99,
    discountPrice: 11.99,
    discountPercent: 20,
    image: "https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=300&h=400&fit=crop",
    rating: 4.5,
    reviewCount: 2100,
    stock: 30,
    description: "A gripping tale of racial injustice and childhood innocence in the American South during the 1930s.",
    publisher: "J.B. Lippincott & Co.",
    publishedYear: 1960,
    pages: 281,
    language: "English",
    isbn: "978-0-06-112008-4",
    categories: ["Fiction", "Classic Literature", "Southern Literature"],
    format: "Paperback",
    dimensions: "5.1 x 7.8 x 0.7 inches",
    weight: "0.5 pounds"
  },
  {
    id: 3,
    title: "1984",
    author: "George Orwell",
    price: 13.99,
    image: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=400&fit=crop",
    rating: 4.3,
    reviewCount: 1800,
    stock: 25,
    description: "A dystopian social science fiction novel about totalitarian control and surveillance in a future society.",
    publisher: "Secker & Warburg",
    publishedYear: 1949,
    pages: 328,
    language: "English",
    isbn: "978-0-452-28423-4",
    categories: ["Fiction", "Dystopian", "Science Fiction"],
    format: "Paperback",
    dimensions: "5.1 x 7.8 x 0.8 inches",
    weight: "0.6 pounds"
  },
  {
    id: 4,
    title: "Pride and Prejudice",
    author: "Jane Austen",
    price: 11.99,
    discountPrice: 8.99,
    discountPercent: 25,
    image: "https://images.unsplash.com/photo-1512820790803-83ca734da794?w=300&h=400&fit=crop",
    rating: 4.4,
    reviewCount: 1650,
    stock: 40,
    description: "A romantic novel of manners that critiques the British landed gentry at the turn of the 19th century.",
    publisher: "T. Egerton, Whitehall",
    publishedYear: 1813,
    pages: 432,
    language: "English",
    isbn: "978-0-14-143951-8",
    categories: ["Fiction", "Romance", "Classic Literature"],
    format: "Paperback",
    dimensions: "5.1 x 7.8 x 1.0 inches",
    weight: "0.7 pounds"
  },
  {
    id: 5,
    title: "The Catcher in the Rye",
    author: "J.D. Salinger",
    price: 13.50,
    image: "https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=300&h=400&fit=crop",
    rating: 3.8,
    reviewCount: 950,
    stock: 20,
    description: "A coming-of-age story about teenage rebellion and alienation in 1950s America.",
    publisher: "Little, Brown and Company",
    publishedYear: 1951,
    pages: 277,
    language: "English",
    isbn: "978-0-316-76948-0",
    categories: ["Fiction", "Coming of Age", "American Literature"],
    format: "Paperback",
    dimensions: "5.1 x 7.8 x 0.7 inches",
    weight: "0.5 pounds"
  },
  {
    id: 6,
    title: "The Lord of the Rings",
    author: "J.R.R. Tolkien",
    price: 24.99,
    discountPrice: 19.99,
    discountPercent: 20,
    image: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=300&h=400&fit=crop",
    rating: 4.7,
    reviewCount: 3200,
    stock: 15,
    description: "An epic high-fantasy novel about the quest to destroy the One Ring and defeat the Dark Lord Sauron.",
    publisher: "Allen & Unwin",
    publishedYear: 1954,
    pages: 1216,
    language: "English",
    isbn: "978-0-547-92822-7",
    categories: ["Fantasy", "Adventure", "Epic"],
    format: "Paperback",
    dimensions: "5.1 x 7.8 x 2.0 inches",
    weight: "1.2 pounds"
  },
  {
    id: 7,
    title: "Harry Potter and the Philosopher's Stone",
    author: "J.K. Rowling",
    price: 16.99,
    image: "https://images.unsplash.com/photo-1592496431122-2349e0fbc666?w=300&h=400&fit=crop",
    rating: 4.6,
    reviewCount: 4500,
    stock: 60,
    description: "The first book in the Harry Potter series, following a young wizard's journey at Hogwarts School of Witchcraft and Wizardry.",
    publisher: "Bloomsbury",
    publishedYear: 1997,
    pages: 223,
    language: "English",
    isbn: "978-0-7475-3269-9",
    categories: ["Fantasy", "Young Adult", "Magic"],
    format: "Paperback",
    dimensions: "5.1 x 7.8 x 0.8 inches",
    weight: "0.6 pounds"
  },
  {
    id: 8,
    title: "The Hobbit",
    author: "J.R.R. Tolkien",
    price: 15.99,
    discountPrice: 12.99,
    discountPercent: 19,
    image: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=400&fit=crop",
    rating: 4.5,
    reviewCount: 2800,
    stock: 35,
    description: "A fantasy novel about the quest of home-loving Bilbo Baggins to win a share of the treasure guarded by Smaug the dragon.",
    publisher: "Allen & Unwin",
    publishedYear: 1937,
    pages: 310,
    language: "English",
    isbn: "978-0-547-92822-7",
    categories: ["Fantasy", "Adventure", "Children's Literature"],
    format: "Paperback",
    dimensions: "5.1 x 7.8 x 0.8 inches",
    weight: "0.6 pounds"
  },
  // Trending Books
  {
    id: 21,
    title: "The Seven Husbands of Evelyn Hugo",
    author: "Taylor Jenkins Reid",
    price: 15.99,
    image: "https://images.unsplash.com/photo-1544947950-fa07a98d237f?w=300&h=400&fit=crop&crop=center",
    rating: 4.8,
    reviewCount: 3200,
    stock: 45,
    description: "A captivating novel about a reclusive Hollywood icon who finally decides to tell her story to an unknown journalist.",
    publisher: "Atria Books",
    publishedYear: 2017,
    pages: 400,
    language: "English",
    isbn: "978-1-5011-7341-8",
    categories: ["Fiction", "Romance", "Contemporary"],
    format: "Paperback",
    dimensions: "5.2 x 8.0 x 1.0 inches",
    weight: "0.8 pounds",
    isTrending: true
  },
  {
    id: 22,
    title: "Atomic Habits",
    author: "James Clear",
    price: 18.99,
    image: "https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=300&h=400&fit=crop&crop=center",
    rating: 4.9,
    reviewCount: 4500,
    stock: 60,
    description: "An easy and proven way to build good habits and break bad ones. A revolutionary system for getting 1% better every day.",
    publisher: "Avery",
    publishedYear: 2018,
    pages: 320,
    language: "English",
    isbn: "978-0-7352-1129-2",
    categories: ["Self-Help", "Personal Development", "Psychology"],
    format: "Hardcover",
    dimensions: "6.2 x 9.3 x 1.1 inches",
    weight: "1.2 pounds",
    isTrending: true
  },
  {
    id: 23,
    title: "The Midnight Library",
    author: "Matt Haig",
    price: 16.99,
    image: "https://images.unsplash.com/photo-1512820790803-83ca734da794?w=300&h=400&fit=crop&crop=center",
    rating: 4.7,
    reviewCount: 2800,
    stock: 35,
    description: "A dazzling novel about all the choices that go into a life well lived, from the internationally bestselling author.",
    publisher: "Viking",
    publishedYear: 2020,
    pages: 304,
    language: "English",
    isbn: "978-0-525-55948-1",
    categories: ["Fiction", "Fantasy", "Contemporary"],
    format: "Paperback",
    dimensions: "5.1 x 7.8 x 0.9 inches",
    weight: "0.7 pounds",
    isTrending: true
  },
  {
    id: 24,
    title: "Project Hail Mary",
    author: "Andy Weir",
    price: 17.99,
    image: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=400&fit=crop&crop=center",
    rating: 4.9,
    reviewCount: 3600,
    stock: 50,
    description: "A lone astronaut must save the earth from disaster in this incredible new science-based thriller from the #1 New York Times bestselling author.",
    publisher: "Ballantine Books",
    publishedYear: 2021,
    pages: 496,
    language: "English",
    isbn: "978-0-593-13015-5",
    categories: ["Science Fiction", "Thriller", "Adventure"],
    format: "Hardcover",
    dimensions: "6.4 x 9.5 x 1.3 inches",
    weight: "1.4 pounds",
    isTrending: true
  },
  {
    id: 25,
    title: "Rich Dad Poor Dad",
    author: "Robert T. Kiyosaki",
    price: 14.99,
    image: "https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=300&h=400&fit=crop&crop=center",
    rating: 4.6,
    reviewCount: 5200,
    stock: 80,
    description: "What the Rich Teach Their Kids About Money That the Poor and Middle Class Do Not!",
    publisher: "Warner Books",
    publishedYear: 1997,
    pages: 336,
    language: "English",
    isbn: "978-0-446-67745-0",
    categories: ["Business", "Personal Finance", "Self-Help"],
    format: "Paperback",
    dimensions: "5.2 x 8.0 x 0.8 inches",
    weight: "0.6 pounds",
    isTrending: true
  },
  {
    id: 150,
    title: "The Art of War",
    author: "Sun Tzu",
    price: 16.99,
    discountPrice: 12.99,
    discountPercent: 24,
    image: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=400&fit=crop",
    rating: 4.6,
    reviewCount: 3200,
    stock: 45,
    description: "An ancient Chinese military treatise dating from the Late Spring and Autumn Period. The work, which is attributed to the ancient Chinese military strategist Sun Tzu, is composed of 13 chapters. Each one is devoted to an aspect of warfare and how it applies to military strategy and tactics.",
    publisher: "Oxford University Press",
    publishedYear: 500,
    pages: 273,
    language: "English",
    isbn: "978-0-19-501962-1",
    categories: ["Philosophy", "Military Strategy", "Classic Literature"],
    format: "Paperback",
    dimensions: "5.1 x 7.8 x 0.6 inches",
    weight: "0.4 pounds"
  }
];

export const mockCategories = [
  { name: "Fiction", count: 1250, color: "bg-red-500" },
  { name: "Mystery", count: 890, color: "bg-blue-500" },
  { name: "Romance", count: 1100, color: "bg-pink-500" },
  { name: "Sci-Fi", count: 650, color: "bg-purple-500" },
  { name: "Biography", count: 420, color: "bg-green-500" },
  { name: "History", count: 380, color: "bg-yellow-500" },
  { name: "Fantasy", count: 750, color: "bg-indigo-500" },
  { name: "Thriller", count: 680, color: "bg-gray-500" },
  { name: "Classic Literature", count: 520, color: "bg-amber-500" },
  { name: "Young Adult", count: 920, color: "bg-cyan-500" }
];

export const mockUsers = [
  {
    id: 1,
    name: "John Doe",
    email: "john@example.com",
    role: "customer",
    joinDate: "2024-01-01",
    phone: "+1-555-0123",
    address: "123 Main St",
    city: "New York",
    state: "NY",
    zipCode: "10001"
  },
  {
    id: 2,
    name: "Jane Smith",
    email: "jane@example.com",
    role: "customer",
    joinDate: "2024-01-05",
    phone: "+1-555-0124",
    address: "456 Oak Ave",
    city: "Los Angeles",
    state: "CA",
    zipCode: "90210"
  },
  {
    id: 3,
    name: "Admin User",
    email: "admin@ikirezi.com",
    role: "admin",
    joinDate: "2023-12-01",
    phone: "+1-555-0125",
    address: "789 Pine St",
    city: "Chicago",
    state: "IL",
    zipCode: "60601"
  }
];

export const mockOrders = [
  {
    id: "ORD-001",
    customer: "John Doe",
    customerEmail: "john@example.com",
    total: 45.98,
    status: "shipped",
    date: "2024-01-15",
    items: [
      { bookId: 1, title: "The Great Gatsby", quantity: 2, price: 9.99 },
      { bookId: 2, title: "To Kill a Mockingbird", quantity: 1, price: 11.99 }
    ],
    shippingAddress: {
      street: "123 Main St",
      city: "New York",
      state: "NY",
      zipCode: "10001",
      country: "United States"
    }
  },
  {
    id: "ORD-002",
    customer: "Jane Smith",
    customerEmail: "jane@example.com",
    total: 28.99,
    status: "pending",
    date: "2024-01-14",
    items: [
      { bookId: 3, title: "1984", quantity: 1, price: 13.99 },
      { bookId: 4, title: "Pride and Prejudice", quantity: 1, price: 8.99 }
    ],
    shippingAddress: {
      street: "456 Oak Ave",
      city: "Los Angeles",
      state: "CA",
      zipCode: "90210",
      country: "United States"
    }
  },
  {
    id: "ORD-003",
    customer: "Bob Johnson",
    customerEmail: "bob@example.com",
    total: 67.50,
    status: "delivered",
    date: "2024-01-13",
    items: [
      { bookId: 6, title: "The Lord of the Rings", quantity: 1, price: 19.99 },
      { bookId: 7, title: "Harry Potter and the Philosopher's Stone", quantity: 2, price: 16.99 }
    ],
    shippingAddress: {
      street: "789 Elm St",
      city: "Chicago",
      state: "IL",
      zipCode: "60601",
      country: "United States"
    }
  }
];

export const mockReviews = [
  {
    id: 1,
    bookId: 1,
    user: { name: "Alice Johnson", id: 1 },
    rating: 5,
    comment: "Absolutely brilliant! A timeless classic that everyone should read.",
    createdAt: "2024-01-10T10:30:00Z"
  },
  {
    id: 2,
    bookId: 1,
    user: { name: "Bob Smith", id: 2 },
    rating: 4,
    comment: "Great book, though it took me a while to get into it. The ending was worth it.",
    createdAt: "2024-01-08T14:20:00Z"
  },
  {
    id: 3,
    bookId: 2,
    user: { name: "Carol Davis", id: 3 },
    rating: 5,
    comment: "One of the best books I've ever read. Harper Lee's writing is incredible.",
    createdAt: "2024-01-12T09:15:00Z"
  }
];

// Mock API functions
export const mockApi = {
  // Simulate API delay
  delay: (ms = 1000) => new Promise(resolve => setTimeout(resolve, ms)),

  // Books API
  getBooks: async (params = {}) => {
    await mockApi.delay(500);
    let books = [...mockBooks];
    
    // Apply filters
    if (params.category) {
      books = books.filter(book => 
        book.categories.some(cat => 
          cat.toLowerCase().includes(params.category.toLowerCase())
        )
      );
    }
    
    if (params.search) {
      const searchTerm = params.search.toLowerCase();
      books = books.filter(book => 
        book.title.toLowerCase().includes(searchTerm) ||
        book.author.toLowerCase().includes(searchTerm) ||
        book.categories.some(cat => cat.toLowerCase().includes(searchTerm))
      );
    }
    
    if (params.featured) {
      books = books.filter(book => book.discountPercent > 0);
    }
    
    if (params.bestseller) {
      books = books.sort((a, b) => b.reviewCount - a.reviewCount);
    }
    
    if (params.limit) {
      books = books.slice(0, params.limit);
    }
    
    return books;
  },

  getBookById: async (id) => {
    await mockApi.delay(300);
    const book = mockBooks.find(b => b.id === parseInt(id));
    if (!book) throw new Error('Book not found');
    return book;
  },

  getFeaturedBooks: async () => {
    await mockApi.delay(400);
    return mockBooks.filter(book => book.discountPercent > 0).slice(0, 6);
  },

  getBooksByCategory: async (category) => {
    await mockApi.delay(400);
    return mockBooks.filter(book => 
      book.categories.some(cat => 
        cat.toLowerCase().includes(category.toLowerCase())
      )
    );
  },

  getBookReviews: async (bookId) => {
    await mockApi.delay(300);
    return mockReviews.filter(review => review.bookId === parseInt(bookId));
  },

  getCategories: async () => {
    await mockApi.delay(200);
    return mockCategories;
  },

  // Auth API
  login: async (email, password) => {
    await mockApi.delay(800);
    
    // Demo credentials
    if (email === 'admin@ikirezi.com' && password === 'admin123') {
      return {
        success: true,
        user: mockUsers.find(u => u.role === 'admin'),
        token: 'mock-admin-token-' + Date.now()
      };
    }
    
    if (email === 'user@ikirezi.com' && password === 'user123') {
      return {
        success: true,
        user: mockUsers.find(u => u.role === 'customer'),
        token: 'mock-user-token-' + Date.now()
      };
    }
    
    throw new Error('Invalid credentials');
  },

  register: async (userData) => {
    await mockApi.delay(1000);
    
    const newUser = {
      id: mockUsers.length + 1,
      ...userData,
      role: 'customer',
      joinDate: new Date().toISOString().split('T')[0]
    };
    
    mockUsers.push(newUser);
    
    return {
      success: true,
      user: newUser,
      token: 'mock-token-' + Date.now()
    };
  },

  getCurrentUser: async () => {
    await mockApi.delay(300);
    // In a real app, this would decode the token
    return mockUsers[0]; // Return first user for demo
  },

  updateProfile: async (userData) => {
    await mockApi.delay(500);
    return { ...mockUsers[0], ...userData };
  },

  // Orders API
  getOrders: async () => {
    await mockApi.delay(400);
    return mockOrders;
  },

  createOrder: async (orderData) => {
    await mockApi.delay(1000);
    const newOrder = {
      id: 'ORD-' + Date.now(),
      ...orderData,
      date: new Date().toISOString().split('T')[0],
      status: 'pending'
    };
    mockOrders.push(newOrder);
    return newOrder;
  },

  // Password reset API
  forgotPassword: async (email) => {
    await mockApi.delay(800);
    
    // Check if user exists
    const user = mockUsers.find(u => u.email === email);
    if (!user) {
      return {
        success: false,
        message: 'No account found with that email address'
      };
    }

    // In a real app, this would send an actual email
    // For demo purposes, we'll just simulate success
    console.log(`Password reset email sent to: ${email}`);
    console.log(`Reset token: reset-token-${Date.now()}`);
    
    return {
      success: true,
      message: 'Password reset email sent successfully'
    };
  },

  resetPassword: async (token, newPassword) => {
    await mockApi.delay(800);
    
    // In a real app, this would validate the token
    if (!token || token.length < 10) {
      return {
        success: false,
        message: 'Invalid or expired reset token'
      };
    }

    // For demo purposes, we'll just simulate success
    console.log(`Password reset completed for token: ${token}`);
    
    return {
      success: true,
      message: 'Password reset successfully'
    };
  }
};
